{% extends 'base.html' %}
{% block content %}
  <h2>Expenses</h2>
  <form action="/expenses" method="post" class="form-inline">
    <input name="description" placeholder="Description" required>
    <input type="number" step="0.01" name="amount" placeholder="0.00" required>
    <input name="category" placeholder="Category">
    <button class="btn">Add Expense</button>
  </form>
  <div class="muted">Total spent: ${{ '%.2f'|format(total) }}</div>
  <ul class="list">
    {% for e in expenses %}
      <li>
        <div><strong>{{ e.description }}</strong> <span class="muted">• {{ e.category }}</span></div>
        <div class="muted">${{ '%.2f'|format(e.amount) }} — {{ e.created_at.date() }}</div>
      </li>
    {% else %}
      <li class="muted">No expenses recorded</li>
    {% endfor %}
  </ul>
{% endblock %}
